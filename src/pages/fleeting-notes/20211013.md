---
publish_date: 20211013    
layout: ../../layouts/FleetingNoteLayout.astro
---

Been playing with Astro some more and finally got my head around how to use npm modules client side. It's not that obvious...

First thing I tried was something like this:

```html

<canvas class="webgl"></canvas>

  
<script type="module"/> 
 import * as THREE from 'three'

 console.log(THREE)

</script>
```


This returns `Uncaught TypeError: Failed to resolve module specifier "three". Relative references must start with either "/", "./", or "../".` in the console.



The way that worked for me was by making use of [`Astro.resolve`](https://docs.astro.build/es/reference/api-reference/#astroresolve) like so...

```html

<canvas class="webgl"></canvas>


<script src={Astro.resolve('./myScript.js')} type="module"/>
```

`myScript.js` looks like this:


```js
import * as THREE from 'three';

console.log(THREE) // Three.js module!

```

Full demo [here](https://stackblitz.com/edit/astro-qp2xde?file=src%2Fcomponents%2FTest.astro)
