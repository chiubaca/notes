/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ObsidianGrammarlyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// plugin.ts
var import_view = require("@codemirror/view");

// node_modules/@grammarly/editor-sdk/lib/index.esm.js
function t(t2, n2, r2) {
  return n2 in t2 ? Object.defineProperty(t2, n2, { value: r2, enumerable: true, configurable: true, writable: true }) : t2[n2] = r2, t2;
}
var n = /* @__PURE__ */ new Map();
var r = class extends Error {
  constructor(n2, r2) {
    super(), t(this, "args", void 0), t(this, "code", void 0), t(this, "url", void 0), t(this, "_c", void 0);
    var e2 = new URL("https://developer.grammarly.com/docs/error-explainer");
    e2.searchParams.set("code", n2.toString()), r2.forEach((t2) => e2.searchParams.append("args", function(t3) {
      if (t3 instanceof Error)
        return t3.message + "\n" + String(t3.stack);
      if (t3 == null)
        return "null";
      if (typeof t3 == "object")
        try {
          return Object.prototype.toString.call(t3);
        } catch (t4) {
        }
      return String(t3);
    }(t2))), this.stack != null && e2.searchParams.set("trace", this.stack), this.message = "Minified error #".concat(n2, ": See ").concat(e2.toString(), " for details."), this.args = r2, this.code = n2, this.url = e2.toString();
  }
  toUserMessage() {
    var t2 = n.get("".concat(this.code));
    if (t2 == null)
      return [this];
    var r2 = new Map(this.args.map((t3, n2) => ["${".concat(n2, "}"), t3])), e2 = t2.split(/(\${\d+})/).filter((t3) => t3 !== "");
    return e2.map((t3) => {
      var n2;
      return (n2 = r2.get(t3)) !== null && n2 !== void 0 ? n2 : t3;
    });
  }
  toJSON() {
    return { name: "InvariantError", message: this.message, description: this._n, code: this.code, args: this.args, stack: this.stack };
  }
  static setMessages(t2) {
    n = t2;
  }
  static create(t2, n2, e2, a2) {
    a2 != null && n2.push(a2);
    var o2 = new r(t2, n2, e2);
    return o2.stack = a2 == null ? void 0 : a2.stack, o2._n = e2, o2;
  }
};
var e = /* @__PURE__ */ new WeakMap();
async function a(t2, n2) {
  const a2 = e.get(t2);
  if (a2 != null)
    return await a2;
  !function(t3) {
    t3.Grammarly == null && (t3.Grammarly = {});
  }(t2);
  const o2 = new Promise((e2, a3) => {
    try {
      let e3 = function(t3, n3) {
        return t3.document.querySelectorAll(`script[src^="${n3.replace(/\?.*$/, "")}"]`)[0];
      }(t2, n2);
      e3 != null ? o3() : (e3 = function(t3, n3) {
        const r2 = t3.document.createElement("script");
        return r2.src = n3, t3.document.head.appendChild(r2), r2;
      }(t2, n2), e3.addEventListener("load", o3), e3.addEventListener("error", function() {
        try {
          throw new r(23, []);
        } catch (t3) {
          a3(t3);
        }
      }));
    } catch (t3) {
      return a3(t3);
    }
    function o3() {
      try {
        if (t2.Grammarly == null || typeof t2.Grammarly.EditorSDK != "function")
          throw new r(22, []);
        e2(t2.Grammarly);
      } catch (t3) {
        a3(t3);
      }
    }
  });
  return e.set(t2, o2), await o2;
}
async function o(t2, n2, r2) {
  return await s("@grammarly/editor-sdk", t2, n2, r2);
}
async function s(t2, n2, e2, o2) {
  if (typeof window == "undefined" && o2 === void 0)
    throw new r(21, []);
  const s2 = function(t3) {
    return t3.location.origin !== "null" ? t3.location.origin : t3.origin !== "null" ? t3.origin : "null";
  }(o2 != null ? o2 : window);
  s2 === "null" && (o2 != null ? o2 : window).top !== (o2 != null ? o2 : window) && console.warn("Grammarly is not supported in IFrames with `null` origin. Consider adding `sandbox='allow-same-origin allow-scripts'` to <iframe> element.");
  const i = new URL("https://js.grammarly.com/grammarly-editor-sdk@2.3", s2);
  n2 != null && i.searchParams.set("clientId", n2), i.searchParams.set("packageName", t2);
  const c = await a(o2 != null ? o2 : window, i.toString());
  if (n2 != null)
    return new c.EditorSDK(n2, e2);
}

// plugin.ts
var initializeGrammarly = async (view, settings) => {
  var _a;
  const grammarly = await o(settings.client_id);
  grammarly.addPlugin(view.contentDOM, {
    documentDialect: "auto-text",
    documentDomain: "academic",
    activation: "immediate"
  }, view.scrollDOM);
  const host = document.querySelector("grammarly-editor-plugin");
  const style = document.createElement("style");
  let inner_html = `
	.nvqxur1>:nth-child(2):not(article)
	{
		left: 80px !important;
	}

	div:has(div[aria-label="Grammarly Settings"])
	{
		left: 80px !important;
	}

	div[role="tooltip"] {
		left: 80px !important;
	}
	`;
  if (settings.left_offset != "0") {
    inner_html = inner_html + `
			.nvqxur1 div[role=dialog]
			{
				left: ` + settings.left_offset + `px !important;
			}`;
  }
  if (settings.top_offset != "0") {
    inner_html = inner_html + `
			.nvqxur1 div[role=dialog]
			{
				top: ` + settings.top_offset + `px !important;
			}`;
  }
  style.innerHTML = inner_html;
  (_a = host == null ? void 0 : host.shadowRoot) == null ? void 0 : _a.appendChild(style);
  host == null ? void 0 : host.setAttribute("config.oauthRedirectUri", "obsidian://grammarly-auth");
};
var authenticateGrammarlyUser = async (url, settings) => {
  const grammarly = await o(settings.client_id);
  grammarly.handleOAuthCallback(url);
};
var GrammarlyPlugin = class {
  constructor(view) {
  }
  update(update) {
  }
  destroy() {
  }
  initialize(view, settings) {
    return initializeGrammarly(view, settings);
  }
  authenticateUser(url, settings) {
    return authenticateGrammarlyUser(url, settings);
  }
};
var grammarlyPlugin = import_view.ViewPlugin.fromClass(GrammarlyPlugin);

// main.ts
var DEFAULT_SETTINGS = {
  left_offset: "0",
  top_offset: "0",
  client_id: "client_DNSZ5n1LBKo8CDovJJ85DT",
  disable_tooltip: "true"
};
var ObsidianGrammarlyPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.extArray = [];
  }
  async onload() {
    await this.loadSettings();
    (0, import_obsidian.addIcon)("grammarly", '<svg fill="currentColor"  viewBox="0 0 24 24" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12C0 5.372 5.373 0 12 0c6.628 0 12 5.372 12 12m-9.633 1.626a.81.815 0 0 0-.799.965c.071.393.44.662.84.662h1.257l.729-.102c-1.166 1.71-3.19 2.498-5.405 2.15-1.802-.282-3.35-1.502-4.003-3.205-1.483-3.865 1.34-7.556 5.02-7.556 1.916 0 3.598 1.122 4.562 2.478.277.39.763.504 1.133.248a.795.8 0 0 0 .236-1.069h.006a7.04 7.04 0 0 0-6.425-3.233c-3.508.236-6.347 3.107-6.55 6.617-.233 4.086 3.007 7.421 7.037 7.421a6.976 6.976 0 0 0 5.304-2.413l-.153.855v.773c0 .4.269.77.662.84a.814.814 0 0 0 .964-.8v-4.63h-4.415"/></svg>');
    const ribbonIconEl = this.addRibbonIcon("grammarly", "Enable Grammarly", (evt) => {
      this.enableGrammarly();
    });
    this.registerObsidianProtocolHandler("grammarly-auth", (res) => {
      const url = `obsidian://grammarly-auth?code=${res.code}&state=${res.state}`;
      this.enableGrammarlyLogin(url);
    });
    this.addCommand({
      id: "enable-grammarly",
      name: "Enable Grammarly",
      editorCallback: (editor, view) => {
        this.enableGrammarly();
      }
    });
    if (!this.ext) {
      this.ext = grammarlyPlugin;
      this.extArray = [this.ext];
      this.registerEditorExtension(this.extArray);
    }
    this.addSettingTab(new MainSettingsTab(this.app, this));
  }
  onunload() {
  }
  enableGrammarly() {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (app.vault.getConfig("vimMode")) {
      const cm = view.editor.cm.cm;
      window.CodeMirrorAdapter.Vim.handleKey(cm, "i", "mapping");
    }
    new import_obsidian.Notice("Grammarly has been enabled.");
    if (!view) {
      new import_obsidian.Notice("No active view found.");
      return;
    }
    const editorView = view.editor.cm;
    const plugin = editorView.plugin(grammarlyPlugin);
    if (plugin) {
      let tooltip_callback = function(mutations) {
        for (var i = 0; i < mutations.length; i++) {
          var mutation = mutations[i];
          if (mutation.addedNodes.length > 0) {
            for (var ii = 0; ii < mutation.addedNodes.length; ii++) {
              var node = mutation.addedNodes[ii];
              if (node.innerText == "Grammarly-powered editor" || node.innerText == "Grammarly-powered editor\u2014To review writing suggestions, press \u2318\u2303g") {
                node.remove();
              }
            }
          }
        }
      };
      plugin.initialize(editorView, this.settings);
      const tooltip_observer = new MutationObserver(tooltip_callback);
      const tooltip_observer_element = document.querySelector("body");
      console.log(this.settings);
      if (this.settings.disable_tooltip == "true") {
        tooltip_observer.observe(tooltip_observer_element, {
          childList: true
        });
      }
    }
  }
  enableGrammarlyLogin(url) {
    var _a, _b, _c;
    const view = (_c = (_b = (_a = this == null ? void 0 : this.app) == null ? void 0 : _a.workspace) == null ? void 0 : _b.activeLeaf) == null ? void 0 : _c.view;
    if (view != null) {
      const editorView = view.editor.cm;
      const plugin = editorView.plugin(grammarlyPlugin);
      if (plugin) {
        plugin.authenticateUser(url, this.settings);
      }
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var MainSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Grammarly Plugin Settings" });
    new import_obsidian.Setting(containerEl).setName("Left Popover Offset (in pixels)").setDesc("The Grammarly popover is placed incorrectly when using certain themes. If you encoutner this, this setting allows you to offset it to the left it so that it looks right.").addText((text) => text.setPlaceholder("Enter offset (in pixels)").setValue(this.plugin.settings.left_offset).onChange(async (value) => {
      this.plugin.settings.left_offset = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Top Popover Offset (in pixels)").setDesc("The Grammarly popover is placed incorrectly when using certain themes. If you encoutner this, this setting allows you to offset it from the top so that it looks right.").addText((text) => text.setPlaceholder("Enter offset (in pixels)").setValue(this.plugin.settings.top_offset).onChange(async (value) => {
      this.plugin.settings.top_offset = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Grammarly Client ID").setDesc("The Grammarly Editor SDK requires a client ID to operate. One is included by default, but you can change it if you like.").addText((text) => text.setPlaceholder("Client ID").setValue(this.plugin.settings.client_id).onChange(async (value) => {
      this.plugin.settings.client_id = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Remove Grammarly tooltip").setDesc("Set to false to show tooltip.").addText((text) => text.setPlaceholder("Remove tooltip").setValue(this.plugin.settings.disable_tooltip).onChange(async (value) => {
      this.plugin.settings.disable_tooltip = value;
      await this.plugin.saveSettings();
    }));
  }
};
/**
 * @license
 * (c) Copyright 2023 Grammarly, Inc.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJwbHVnaW4udHMiLCAibm9kZV9tb2R1bGVzL0BncmFtbWFybHkvZWRpdG9yLXNkay9saWIvaW5kZXguZXNtLmpzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBFeHRlbnNpb24gfSBmcm9tIFwiQGNvZGVtaXJyb3Ivc3RhdGVcIjtcbmltcG9ydCB7XG5cdGFkZEljb24sXG5cdEFwcCxcblx0Tm90aWNlLFxuXHRQbHVnaW4sXG5cdFBsdWdpblNldHRpbmdUYWIsXG5cdFNldHRpbmcsXG5cdE1hcmtkb3duVmlld1xufSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGdyYW1tYXJseVBsdWdpbiB9IGZyb20gXCIuL3BsdWdpblwiO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JzaWRpYW5HcmFtbWFybHlQbHVnaW5TZXR0aW5ncyB7XG5cdGxlZnRfb2Zmc2V0OiBzdHJpbmc7XG5cdHRvcF9vZmZzZXQ6IHN0cmluZztcblx0Y2xpZW50X2lkOiBzdHJpbmc7XG5cdGRpc2FibGVfdG9vbHRpcDogc3RyaW5nO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBPYnNpZGlhbkdyYW1tYXJseVBsdWdpblNldHRpbmdzID0ge1xuXHRsZWZ0X29mZnNldDogXCIwXCIsXG5cdHRvcF9vZmZzZXQ6IFwiMFwiLFxuXHRjbGllbnRfaWQ6IFwiY2xpZW50X0ROU1o1bjFMQktvOENEb3ZKSjg1RFRcIixcblx0ZGlzYWJsZV90b29sdGlwOiBcInRydWVcIixcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2lkaWFuR3JhbW1hcmx5UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0cHJpdmF0ZSBleHQ6IEV4dGVuc2lvbjtcblx0cHJpdmF0ZSBleHRBcnJheTogRXh0ZW5zaW9uW10gPSBbXTtcblx0c2V0dGluZ3M6IE9ic2lkaWFuR3JhbW1hcmx5UGx1Z2luU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHRhZGRJY29uKFxuXHRcdFx0XCJncmFtbWFybHlcIixcblx0XHRcdCc8c3ZnIGZpbGw9XCJjdXJyZW50Q29sb3JcIiAgdmlld0JveD1cIjAgMCAyNCAyNFwiIHJvbGU9XCJpbWdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNMjQgMTJjMCA2LjYyNy01LjM3MyAxMi0xMiAxMlMwIDE4LjYyNyAwIDEyQzAgNS4zNzIgNS4zNzMgMCAxMiAwYzYuNjI4IDAgMTIgNS4zNzIgMTIgMTJtLTkuNjMzIDEuNjI2YS44MS44MTUgMCAwIDAtLjc5OS45NjVjLjA3MS4zOTMuNDQuNjYyLjg0LjY2MmgxLjI1N2wuNzI5LS4xMDJjLTEuMTY2IDEuNzEtMy4xOSAyLjQ5OC01LjQwNSAyLjE1LTEuODAyLS4yODItMy4zNS0xLjUwMi00LjAwMy0zLjIwNS0xLjQ4My0zLjg2NSAxLjM0LTcuNTU2IDUuMDItNy41NTYgMS45MTYgMCAzLjU5OCAxLjEyMiA0LjU2MiAyLjQ3OC4yNzcuMzkuNzYzLjUwNCAxLjEzMy4yNDhhLjc5NS44IDAgMCAwIC4yMzYtMS4wNjloLjAwNmE3LjA0IDcuMDQgMCAwIDAtNi40MjUtMy4yMzNjLTMuNTA4LjIzNi02LjM0NyAzLjEwNy02LjU1IDYuNjE3LS4yMzMgNC4wODYgMy4wMDcgNy40MjEgNy4wMzcgNy40MjFhNi45NzYgNi45NzYgMCAwIDAgNS4zMDQtMi40MTNsLS4xNTMuODU1di43NzNjMCAuNC4yNjkuNzcuNjYyLjg0YS44MTQuODE0IDAgMCAwIC45NjQtLjh2LTQuNjNoLTQuNDE1XCIvPjwvc3ZnPidcblx0XHQpO1xuXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxuXHRcdFx0XCJncmFtbWFybHlcIixcblx0XHRcdFwiRW5hYmxlIEdyYW1tYXJseVwiLFxuXHRcdFx0KGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdFx0XHR0aGlzLmVuYWJsZUdyYW1tYXJseSgpO1xuXHRcdFx0fVxuXHRcdCk7XG5cblx0XHR0aGlzLnJlZ2lzdGVyT2JzaWRpYW5Qcm90b2NvbEhhbmRsZXIoXCJncmFtbWFybHktYXV0aFwiLCAocmVzKSA9PiB7XG5cdFx0XHRjb25zdCB1cmwgPSBgb2JzaWRpYW46Ly9ncmFtbWFybHktYXV0aD9jb2RlPSR7cmVzLmNvZGV9JnN0YXRlPSR7cmVzLnN0YXRlfWA7XG5cdFx0XHRcdHRoaXMuZW5hYmxlR3JhbW1hcmx5TG9naW4odXJsKTtcblx0XHR9KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJlbmFibGUtZ3JhbW1hcmx5XCIsXG5cdFx0XHRuYW1lOiBcIkVuYWJsZSBHcmFtbWFybHlcIixcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yLCB2aWV3KSA9PiB7XG5cdFx0XHRcdHRoaXMuZW5hYmxlR3JhbW1hcmx5KCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0aWYgKCF0aGlzLmV4dCkge1xuXHRcdFx0dGhpcy5leHQgPSBncmFtbWFybHlQbHVnaW47XG5cdFx0XHR0aGlzLmV4dEFycmF5ID0gW3RoaXMuZXh0XTtcblx0XHRcdHRoaXMucmVnaXN0ZXJFZGl0b3JFeHRlbnNpb24odGhpcy5leHRBcnJheSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBNYWluU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge31cblxuXHRlbmFibGVHcmFtbWFybHkoKSB7XG5cdFx0Y29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldylcblx0XHRpZiAoYXBwLnZhdWx0LmdldENvbmZpZyhcInZpbU1vZGVcIikpIHtcblx0XHRcdGNvbnN0IGNtID0gdmlldy5lZGl0b3IuY20uY21cblx0XHRcdHdpbmRvdy5Db2RlTWlycm9yQWRhcHRlci5WaW0uaGFuZGxlS2V5KGNtLCBcImlcIiwgXCJtYXBwaW5nXCIpXG5cdFx0fVxuXHRcdG5ldyBOb3RpY2UoXCJHcmFtbWFybHkgaGFzIGJlZW4gZW5hYmxlZC5cIik7XG5cblx0XHRpZighdmlldykge1xuXHRcdFx0bmV3IE5vdGljZShcIk5vIGFjdGl2ZSB2aWV3IGZvdW5kLlwiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBlZGl0b3JWaWV3OiBDb2RlTWlycm9yLkVkaXRvciA9IHZpZXcuZWRpdG9yLmNtO1xuXHRcdGNvbnN0IHBsdWdpbiA9IGVkaXRvclZpZXcucGx1Z2luKGdyYW1tYXJseVBsdWdpbik7XG5cblx0XHRpZiAocGx1Z2luKSB7XG5cdFx0XHRwbHVnaW4uaW5pdGlhbGl6ZShlZGl0b3JWaWV3LCB0aGlzLnNldHRpbmdzKTtcblxuXHRcdFx0LyogTG9vayBmb3IgR3JhbW1hcmx5LXBvd2VyZWQgdG9vbHRpcCwgYW5kIGlmIGZvdW5kLCByZW1vdmUgZWxlbWVudC4gKi9cblx0XHRcdGNvbnN0IHRvb2x0aXBfb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih0b29sdGlwX2NhbGxiYWNrKTtcblxuXHRcdFx0ZnVuY3Rpb24gdG9vbHRpcF9jYWxsYmFjayhtdXRhdGlvbnM6IE11dGF0aW9uUmVjb3JkW10pIHtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtdXRhdGlvbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHR2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNbaV07XG5cdFx0XHRcdFx0aWYgKG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdFx0Zm9yIChcblx0XHRcdFx0XHRcdFx0dmFyIGlpID0gMDtcblx0XHRcdFx0XHRcdGlpIDwgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRpaSsrXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0dmFyIG5vZGUgPSBtdXRhdGlvbi5hZGRlZE5vZGVzW1xuXHRcdFx0XHRcdFx0XHRcdGlpXG5cdFx0XHRcdFx0XHRcdF0gYXMgSFRNTEJvZHlFbGVtZW50O1xuXHRcdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdFx0bm9kZS5pbm5lclRleHQgPT0gXCJHcmFtbWFybHktcG93ZXJlZCBlZGl0b3JcIiB8fCBub2RlLmlubmVyVGV4dCA9PSBcIkdyYW1tYXJseS1wb3dlcmVkIGVkaXRvclx1MjAxNFRvIHJldmlldyB3cml0aW5nIHN1Z2dlc3Rpb25zLCBwcmVzcyBcdTIzMThcdTIzMDNnXCJcblx0XHRcdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB0b29sdGlwX29ic2VydmVyX2VsZW1lbnQgPVxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKSE7XG5cdFx0XHRjb25zb2xlLmxvZyh0aGlzLnNldHRpbmdzKTtcblxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3MuZGlzYWJsZV90b29sdGlwID09IFwidHJ1ZVwiKSB7XG5cdFx0XHRcdHRvb2x0aXBfb2JzZXJ2ZXIub2JzZXJ2ZSh0b29sdGlwX29ic2VydmVyX2VsZW1lbnQsIHtcblx0XHRcdFx0XHRjaGlsZExpc3Q6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGVuYWJsZUdyYW1tYXJseUxvZ2luKHVybDogc3RyaW5nKSB7XG5cdFx0Y29uc3QgdmlldyA9IHRoaXM/LmFwcD8ud29ya3NwYWNlPy5hY3RpdmVMZWFmPy52aWV3O1xuXHRcdGlmICh2aWV3ICE9IG51bGwpIHtcblx0XHRcdGNvbnN0IGVkaXRvclZpZXcgPSAodmlldyBhcyBhbnkpLmVkaXRvci5jbTtcblxuXHRcdFx0Y29uc3QgcGx1Z2luID0gZWRpdG9yVmlldy5wbHVnaW4oZ3JhbW1hcmx5UGx1Z2luKTtcblxuXHRcdFx0aWYgKHBsdWdpbikge1xuXHRcdFx0XHRwbHVnaW4uYXV0aGVudGljYXRlVXNlcih1cmwsIHRoaXMuc2V0dGluZ3MpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBNYWluU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBPYnNpZGlhbkdyYW1tYXJseVBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBPYnNpZGlhbkdyYW1tYXJseVBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJHcmFtbWFybHkgUGx1Z2luIFNldHRpbmdzXCIgfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIkxlZnQgUG9wb3ZlciBPZmZzZXQgKGluIHBpeGVscylcIilcblx0XHQuc2V0RGVzYyhcblx0XHRcdFwiVGhlIEdyYW1tYXJseSBwb3BvdmVyIGlzIHBsYWNlZCBpbmNvcnJlY3RseSB3aGVuIHVzaW5nIGNlcnRhaW4gdGhlbWVzLiBJZiB5b3UgZW5jb3V0bmVyIHRoaXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgeW91IHRvIG9mZnNldCBpdCB0byB0aGUgbGVmdCBpdCBzbyB0aGF0IGl0IGxvb2tzIHJpZ2h0LlwiXG5cdFx0KVxuXHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHRcdFx0IHRleHRcblx0XHRcdFx0XHRcdCAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBvZmZzZXQgKGluIHBpeGVscylcIilcblx0XHRcdFx0XHRcdCAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubGVmdF9vZmZzZXQpXG5cdFx0XHRcdFx0XHQgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHQgdGhpcy5wbHVnaW4uc2V0dGluZ3MubGVmdF9vZmZzZXQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0IGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0IH0pXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdFx0XHQuc2V0TmFtZShcIlRvcCBQb3BvdmVyIE9mZnNldCAoaW4gcGl4ZWxzKVwiKVxuXHRcdFx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XHRcdFwiVGhlIEdyYW1tYXJseSBwb3BvdmVyIGlzIHBsYWNlZCBpbmNvcnJlY3RseSB3aGVuIHVzaW5nIGNlcnRhaW4gdGhlbWVzLiBJZiB5b3UgZW5jb3V0bmVyIHRoaXMsIHRoaXMgc2V0dGluZyBhbGxvd3MgeW91IHRvIG9mZnNldCBpdCBmcm9tIHRoZSB0b3Agc28gdGhhdCBpdCBsb29rcyByaWdodC5cIlxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCB0ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBvZmZzZXQgKGluIHBpeGVscylcIilcblx0XHRcdFx0XHRcdFx0XHRcdFx0IC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3Bfb2Zmc2V0KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3Bfb2Zmc2V0ID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0IGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQgfSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5zZXROYW1lKFwiR3JhbW1hcmx5IENsaWVudCBJRFwiKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIlRoZSBHcmFtbWFybHkgRWRpdG9yIFNESyByZXF1aXJlcyBhIGNsaWVudCBJRCB0byBvcGVyYXRlLiBPbmUgaXMgaW5jbHVkZWQgYnkgZGVmYXVsdCwgYnV0IHlvdSBjYW4gY2hhbmdlIGl0IGlmIHlvdSBsaWtlLlwiXG5cdFx0XHRcdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IHRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLnNldFBsYWNlaG9sZGVyKFwiQ2xpZW50IElEXCIpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jbGllbnRfaWQpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jbGllbnRfaWQgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgfSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5zZXROYW1lKFwiUmVtb3ZlIEdyYW1tYXJseSB0b29sdGlwXCIpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0LnNldERlc2MoXCJTZXQgdG8gZmFsc2UgdG8gc2hvdyB0b29sdGlwLlwiKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IHRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCAuc2V0UGxhY2Vob2xkZXIoXCJSZW1vdmUgdG9vbHRpcFwiKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNhYmxlX3Rvb2x0aXApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlzYWJsZV90b29sdGlwID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCB9KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0fVxufVxuIiwgImltcG9ydCB7XG5cdFZpZXdVcGRhdGUsXG5cdFBsdWdpblZhbHVlLFxuXHRFZGl0b3JWaWV3LFxuXHRWaWV3UGx1Z2luLFxufSBmcm9tIFwiQGNvZGVtaXJyb3Ivdmlld1wiO1xuaW1wb3J0ICogYXMgR3JhbW1hcmx5IGZyb20gXCJAZ3JhbW1hcmx5L2VkaXRvci1zZGtcIjtcbmltcG9ydCB7IE9ic2lkaWFuR3JhbW1hcmx5UGx1Z2luU2V0dGluZ3MgfSBmcm9tIFwiLi9tYWluXCI7XG5cbmNvbnN0IGluaXRpYWxpemVHcmFtbWFybHkgPSBhc3luYyAoXG5cdHZpZXc6IEVkaXRvclZpZXcsXG5cdHNldHRpbmdzOiBPYnNpZGlhbkdyYW1tYXJseVBsdWdpblNldHRpbmdzXG4pID0+IHtcblx0Y29uc3QgZ3JhbW1hcmx5ID0gYXdhaXQgR3JhbW1hcmx5LmluaXQoc2V0dGluZ3MuY2xpZW50X2lkKTtcblxuXHRncmFtbWFybHkuYWRkUGx1Z2luKFxuXHRcdHZpZXcuY29udGVudERPTSxcblx0XHR7XG5cdFx0XHRkb2N1bWVudERpYWxlY3Q6IFwiYXV0by10ZXh0XCIsIC8vICdicml0aXNoJyxcblx0XHRcdGRvY3VtZW50RG9tYWluOiBcImFjYWRlbWljXCIsXG5cdFx0XHRhY3RpdmF0aW9uOiBcImltbWVkaWF0ZVwiLFxuXHRcdH0sXG5cdFx0dmlldy5zY3JvbGxET01cblx0KTtcblxuXHRjb25zdCBob3N0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImdyYW1tYXJseS1lZGl0b3ItcGx1Z2luXCIpO1xuXHRjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHQvLyBOb3QgcmVhbGx5IHN1cmUgaG93IHRvIHN0eWxlIHRoZSBzaGFkb3cgcm9vdCBpbiBhbm90aGVyIHdheS4gVGhpcyBmaXhlcyBwb3NpdGlvbmluZyBlcnJvcnMgdGhhdCBmb3Igc29tZSByZWFzb24gb2NjdXIgd2l0aCBHcmFtbWFybHkgU0RLIGluIE9ic2lkaWFuLlxuXG5cdGxldCBpbm5lcl9odG1sID0gYFxuXHQubnZxeHVyMT46bnRoLWNoaWxkKDIpOm5vdChhcnRpY2xlKVxuXHR7XG5cdFx0bGVmdDogODBweCAhaW1wb3J0YW50O1xuXHR9XG5cblx0ZGl2OmhhcyhkaXZbYXJpYS1sYWJlbD1cIkdyYW1tYXJseSBTZXR0aW5nc1wiXSlcblx0e1xuXHRcdGxlZnQ6IDgwcHggIWltcG9ydGFudDtcblx0fVxuXG5cdGRpdltyb2xlPVwidG9vbHRpcFwiXSB7XG5cdFx0bGVmdDogODBweCAhaW1wb3J0YW50O1xuXHR9XG5cdGA7XG5cblx0aWYgKHNldHRpbmdzLmxlZnRfb2Zmc2V0ICE9IFwiMFwiKSB7XG5cdFx0aW5uZXJfaHRtbCA9XG5cdFx0XHRpbm5lcl9odG1sICtcblx0XHRcdGBcblx0XHRcdC5udnF4dXIxIGRpdltyb2xlPWRpYWxvZ11cblx0XHRcdHtcblx0XHRcdFx0bGVmdDogYCArXG5cdFx0XHRzZXR0aW5ncy5sZWZ0X29mZnNldCArXG5cdFx0XHRgcHggIWltcG9ydGFudDtcblx0XHRcdH1gO1xuXHR9XG5cblx0aWYgKHNldHRpbmdzLnRvcF9vZmZzZXQgIT0gXCIwXCIpIHtcblx0XHRpbm5lcl9odG1sID1cblx0XHRcdGlubmVyX2h0bWwgK1xuXHRcdFx0YFxuXHRcdFx0Lm52cXh1cjEgZGl2W3JvbGU9ZGlhbG9nXVxuXHRcdFx0e1xuXHRcdFx0XHR0b3A6IGAgK1xuXHRcdFx0c2V0dGluZ3MudG9wX29mZnNldCArXG5cdFx0XHRgcHggIWltcG9ydGFudDtcblx0XHRcdH1gO1xuXHR9XG5cblx0c3R5bGUuaW5uZXJIVE1MID0gaW5uZXJfaHRtbDtcblxuXHRob3N0Py5zaGFkb3dSb290Py5hcHBlbmRDaGlsZChzdHlsZSk7XG5cblx0aG9zdD8uc2V0QXR0cmlidXRlKFwiY29uZmlnLm9hdXRoUmVkaXJlY3RVcmlcIiwgXCJvYnNpZGlhbjovL2dyYW1tYXJseS1hdXRoXCIpO1xufTtcblxuY29uc3QgYXV0aGVudGljYXRlR3JhbW1hcmx5VXNlciA9IGFzeW5jIChcblx0dXJsOiBzdHJpbmcsXG5cdHNldHRpbmdzOiBPYnNpZGlhbkdyYW1tYXJseVBsdWdpblNldHRpbmdzXG4pID0+IHtcblx0Y29uc3QgZ3JhbW1hcmx5ID0gYXdhaXQgR3JhbW1hcmx5LmluaXQoc2V0dGluZ3MuY2xpZW50X2lkKTtcblx0Z3JhbW1hcmx5LmhhbmRsZU9BdXRoQ2FsbGJhY2sodXJsKTtcbn07XG5cbmNsYXNzIEdyYW1tYXJseVBsdWdpbiBpbXBsZW1lbnRzIFBsdWdpblZhbHVlIHtcblx0Y29uc3RydWN0b3IodmlldzogRWRpdG9yVmlldykge31cblxuXHR1cGRhdGUodXBkYXRlOiBWaWV3VXBkYXRlKSB7fVxuXG5cdGRlc3Ryb3koKSB7fVxuXG5cdGluaXRpYWxpemUodmlldzogRWRpdG9yVmlldywgc2V0dGluZ3M6IE9ic2lkaWFuR3JhbW1hcmx5UGx1Z2luU2V0dGluZ3MpIHtcblx0XHRyZXR1cm4gaW5pdGlhbGl6ZUdyYW1tYXJseSh2aWV3LCBzZXR0aW5ncyk7XG5cdH1cblxuXHRhdXRoZW50aWNhdGVVc2VyKHVybDogc3RyaW5nLCBzZXR0aW5nczogT2JzaWRpYW5HcmFtbWFybHlQbHVnaW5TZXR0aW5ncykge1xuXHRcdHJldHVybiBhdXRoZW50aWNhdGVHcmFtbWFybHlVc2VyKHVybCwgc2V0dGluZ3MpO1xuXHR9XG59XG5cbmV4cG9ydCBjb25zdCBncmFtbWFybHlQbHVnaW4gPSBWaWV3UGx1Z2luLmZyb21DbGFzcyhHcmFtbWFybHlQbHVnaW4pO1xuIiwgIi8qKlxuICogQGxpY2Vuc2VcbiAqIChjKSBDb3B5cmlnaHQgMjAyMyBHcmFtbWFybHksIEluYy5cbiAqIFxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICogXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKiBcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIHQodCxuLHIpe3JldHVybiBuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fXZhciBuPW5ldyBNYXA7Y2xhc3MgciBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKG4scil7c3VwZXIoKSx0KHRoaXMsXCJhcmdzXCIsdm9pZCAwKSx0KHRoaXMsXCJjb2RlXCIsdm9pZCAwKSx0KHRoaXMsXCJ1cmxcIix2b2lkIDApLHQodGhpcyxcIl9jXCIsdm9pZCAwKTt2YXIgZT1uZXcgVVJMKFwiaHR0cHM6Ly9kZXZlbG9wZXIuZ3JhbW1hcmx5LmNvbS9kb2NzL2Vycm9yLWV4cGxhaW5lclwiKTtlLnNlYXJjaFBhcmFtcy5zZXQoXCJjb2RlXCIsbi50b1N0cmluZygpKSxyLmZvckVhY2goKHQ9PmUuc2VhcmNoUGFyYW1zLmFwcGVuZChcImFyZ3NcIixmdW5jdGlvbih0KXtpZih0IGluc3RhbmNlb2YgRXJyb3IpcmV0dXJuIHQubWVzc2FnZStcIlxcblwiK1N0cmluZyh0LnN0YWNrKTtpZihudWxsPT10KXJldHVyblwibnVsbFwiO2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0KXRyeXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpfWNhdGNoKHQpe31yZXR1cm4gU3RyaW5nKHQpfSh0KSkpKSxudWxsIT10aGlzLnN0YWNrJiZlLnNlYXJjaFBhcmFtcy5zZXQoXCJ0cmFjZVwiLHRoaXMuc3RhY2spLHRoaXMubWVzc2FnZT1cIk1pbmlmaWVkIGVycm9yICNcIi5jb25jYXQobixcIjogU2VlIFwiKS5jb25jYXQoZS50b1N0cmluZygpLFwiIGZvciBkZXRhaWxzLlwiKSx0aGlzLmFyZ3M9cix0aGlzLmNvZGU9bix0aGlzLnVybD1lLnRvU3RyaW5nKCl9dG9Vc2VyTWVzc2FnZSgpe3ZhciB0PW4uZ2V0KFwiXCIuY29uY2F0KHRoaXMuY29kZSkpO2lmKG51bGw9PXQpcmV0dXJuW3RoaXNdO3ZhciByPW5ldyBNYXAodGhpcy5hcmdzLm1hcCgoKHQsbik9PltcIiR7XCIuY29uY2F0KG4sXCJ9XCIpLHRdKSkpLGU9dC5zcGxpdCgvKFxcJHtcXGQrfSkvKS5maWx0ZXIoKHQ9PlwiXCIhPT10KSk7cmV0dXJuIGUubWFwKCh0PT57dmFyIG47cmV0dXJuIG51bGwhPT0obj1yLmdldCh0KSkmJnZvaWQgMCE9PW4/bjp0fSkpfXRvSlNPTigpe3JldHVybntuYW1lOlwiSW52YXJpYW50RXJyb3JcIixtZXNzYWdlOnRoaXMubWVzc2FnZSxkZXNjcmlwdGlvbjp0aGlzLl9uLGNvZGU6dGhpcy5jb2RlLGFyZ3M6dGhpcy5hcmdzLHN0YWNrOnRoaXMuc3RhY2t9fXN0YXRpYyBzZXRNZXNzYWdlcyh0KXtuPXR9c3RhdGljIGNyZWF0ZSh0LG4sZSxhKXtudWxsIT1hJiZuLnB1c2goYSk7dmFyIG89bmV3IHIodCxuLGUpO3JldHVybiBvLnN0YWNrPW51bGw9PWE/dm9pZCAwOmEuc3RhY2ssby5fbj1lLG99fWNvbnN0IGU9bmV3IFdlYWtNYXA7YXN5bmMgZnVuY3Rpb24gYSh0LG4pe2NvbnN0IGE9ZS5nZXQodCk7aWYobnVsbCE9YSlyZXR1cm4gYXdhaXQgYTshZnVuY3Rpb24odCl7bnVsbD09dC5HcmFtbWFybHkmJih0LkdyYW1tYXJseT17fSl9KHQpO2NvbnN0IG89bmV3IFByb21pc2UoKChlLGEpPT57dHJ5e2xldCBlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgc2NyaXB0W3NyY149XCIke24ucmVwbGFjZSgvXFw/LiokLyxcIlwiKX1cIl1gKVswXX0odCxuKTtudWxsIT1lP28oKTooZT1mdW5jdGlvbih0LG4pe2NvbnN0IHI9dC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3JldHVybiByLnNyYz1uLHQuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChyKSxyfSh0LG4pLGUuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixvKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLChmdW5jdGlvbigpe3RyeXt0aHJvdyBuZXcgcigyMyxbXSl9Y2F0Y2godCl7YSh0KX19KSkpfWNhdGNoKHQpe3JldHVybiBhKHQpfWZ1bmN0aW9uIG8oKXt0cnl7aWYobnVsbD09dC5HcmFtbWFybHl8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuR3JhbW1hcmx5LkVkaXRvclNESyl0aHJvdyBuZXcgcigyMixbXSk7ZSh0LkdyYW1tYXJseSl9Y2F0Y2godCl7YSh0KX19fSkpO3JldHVybiBlLnNldCh0LG8pLGF3YWl0IG99YXN5bmMgZnVuY3Rpb24gbyh0LG4scil7cmV0dXJuIGF3YWl0IHMoXCJAZ3JhbW1hcmx5L2VkaXRvci1zZGtcIix0LG4scil9YXN5bmMgZnVuY3Rpb24gcyh0LG4sZSxvKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93JiZ2b2lkIDA9PT1vKXRocm93IG5ldyByKDIxLFtdKTtjb25zdCBzPWZ1bmN0aW9uKHQpe3JldHVyblwibnVsbFwiIT09dC5sb2NhdGlvbi5vcmlnaW4/dC5sb2NhdGlvbi5vcmlnaW46XCJudWxsXCIhPT10Lm9yaWdpbj90Lm9yaWdpbjpcIm51bGxcIn0obnVsbCE9bz9vOndpbmRvdyk7XCJudWxsXCI9PT1zJiYobnVsbCE9bz9vOndpbmRvdykudG9wIT09KG51bGwhPW8/bzp3aW5kb3cpJiZjb25zb2xlLndhcm4oXCJHcmFtbWFybHkgaXMgbm90IHN1cHBvcnRlZCBpbiBJRnJhbWVzIHdpdGggYG51bGxgIG9yaWdpbi4gQ29uc2lkZXIgYWRkaW5nIGBzYW5kYm94PSdhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzJ2AgdG8gPGlmcmFtZT4gZWxlbWVudC5cIik7Y29uc3QgaT1uZXcgVVJMKFwiaHR0cHM6Ly9qcy5ncmFtbWFybHkuY29tL2dyYW1tYXJseS1lZGl0b3Itc2RrQDIuM1wiLHMpO251bGwhPW4mJmkuc2VhcmNoUGFyYW1zLnNldChcImNsaWVudElkXCIsbiksaS5zZWFyY2hQYXJhbXMuc2V0KFwicGFja2FnZU5hbWVcIix0KTtjb25zdCBjPWF3YWl0IGEobnVsbCE9bz9vOndpbmRvdyxpLnRvU3RyaW5nKCkpO2lmKG51bGwhPW4pcmV0dXJuIG5ldyBjLkVkaXRvclNESyhuLGUpfWNvbnN0IGk9e29uQmVmb3JlU3VnZ2VzdGlvbkNhcmRPcGVuOlwiYmVmb3JlLXN1Z2dlc3Rpb24tY2FyZC1vcGVuXCIsb25TdWdnZXN0aW9uQ2FyZE9wZW46XCJzdWdnZXN0aW9uLWNhcmQtb3BlblwiLG9uU3VnZ2VzdGlvbkNhcmRDbG9zZTpcInN1Z2dlc3Rpb24tY2FyZC1jbG9zZVwiLG9uUGx1Z2luVHVybmVkT2ZmOlwicGx1Z2luLXR1cm5lZC1vZmZcIixvblBsdWdpbkVycm9yOlwicGx1Z2luLWVycm9yXCIsb25Eb2N1bWVudFN0YXRzOlwiZG9jdW1lbnQtc3RhdHNcIixvblNlc3Npb25TdGF0czpcInNlc3Npb24tc3RhdHNcIn07ZXhwb3J0e2kgYXMgY2FsbGJhY2tUb0V2ZW50TmFtZSxvIGFzIGluaXQscyBhcyBpbml0X3dpdGhfcGFja2FnZU5hbWV9O1xuIl0sCiAg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
